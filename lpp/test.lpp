$$$
import = function(path)
	return lpp.process_file(path)
end

scan = function()
	local cursor = lpp.get_cursor_after_macro()
	while cursor:next_char() do
		 local c = cursor:codepoint()
		 io.write(string.char(c))
	end
end

DEBUG = true

$$$

@scan

@import "apple.lpp"

int main()
{
$ if DEBUG then
	static const int values[] =
	{
	$ for i=1,5 do
		$(math.sin(3*i)),
	$ end
	}
$ end
}
